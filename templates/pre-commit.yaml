include:
  - remote: 'https://gitlab.com/gitlab-aux/gitlab-ci-templates/raw/main/templates/common.yaml'
    ref: 'master'

# @Description check codebase with pre-commit
pre-commit:
  extends:
    - .pre-commit
  variables:
    PRE_COMMIT_DEDUPLICATE_MR_AND_BRANCH: "false"
    PRE_COMMIT_AUTO_FIX_BRANCH_ONLY: "true"
  before_script:
    - |
      rm .git/hooks/post-commit .git/hooks/pre-push || true
      pip install pre-commit
